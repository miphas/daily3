
### XSS 攻击

想尽一切办法将可执行代码注入到网页中

一般分为持久型和非持久型：  
- 持久型 写入数据库，危害性大，访问网页的用户都受到攻击
- 非持久型 一般通过 URL 方式加入攻击代码，诱导用户访问链接从而攻击


普通文本
- 转义字符

富文本
- 白名单过滤

CSP
建立白名单，告诉浏览器哪些外部资源可以加载、执行


### CSRF 

CSRF 跨站伪造请求攻击  
攻击者构造一个请求，诱导用户通过点击或者其他方式发送  
用户访问 A 网站保留了 A 的验证信息，随后访问 B，B 恶意网站利用用户保存 A 网站的信息向 A 发请求

如何防御：
- 同源策略、在 cookie 设置 sameSite (并非浏览器都兼容)
- 验证 Refer 是否由第三方网站发起
- Token，服务器下发随机 Token 每次请求都带上


### 点击劫持

通过 iframe 嵌入网页并设置透明，诱导用户点击

设置请求头 X-FRAME-OPTIONS  
- DENY，表示页面不允许通过 iframe 的方式展示
- SAMEORIGIN，表示页面可以在相同域名下通过 iframe 的方式展示
- ALLOW-FROM，表示页面可以在指定来源的 iframe 中展示



### 中间人攻击

中间人攻击是攻击方同时与服务端和客户端建立起了连接，并让对方认为连接是安全的，但是实际上整个通信过程都被攻击者控制了。攻击者不仅能获得双方的通信信息，还能修改通信信息

使用 https，关闭 http 降级